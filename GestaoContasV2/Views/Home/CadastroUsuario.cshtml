@{
    ViewBag.Title = "Cadastro Usuário";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section scripts {

    <link href="~/Content/CustomStyle.css" rel="stylesheet" />
    <script src="~/Scripts/angular.js"></script>
    <script src="~/Scripts/angular-animate.js"></script>
    <script src="~/Scripts/angular-ui/ui-bootstrap.js"></script>
    <script src="~/Scripts/angular-ui/ui-bootstrap-tpls.js"></script>
    <script src="~/Scripts/AngularController/UsuarioAngularController.js"></script>
    <script src="~/bower_components/angular-ui-mask/dist/mask.js" type="text/javascript"></script>
    <link href="~/Content/themes/base/selectable.css" rel="stylesheet" />
    <link href="~/Content/themes/base/selectmenu.css" rel="stylesheet" />
    <link href="~/Content/themes/base/tabs.css" rel="stylesheet" />
    <link href="~/Content/themes/base/tooltip.css" rel="stylesheet" />

    
}

<div ng-app="UsuarioAngularController" id="body">
    <div class="container-fluid" ng-controller="AngularJs_UsuariosController">

        <br />
        <div class="row" ng-show="showItem">
            <form class="form-inline">
                <fieldset>
                    <!-- Form Name -->
                    <legend>Pesquisar Usuário</legend>
                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="txtNomePesquisa">Nome:</label>
                        <div class="col-md-4">
                            <input id="txtNomePesquisa" name="txtNomePesquisa" placeholder="Nome..." class="form-control input-md" type="text" ng-model="stdNome">

                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="txtEmailPesquisa">E-mail:</label>
                        <div class="col-md-4">
                            <input id="txtEmailPesquisa" name="txtEmailPesquisa" placeholder="Email..." class="form-control input-md" type="text" ng-model="stdEmail">

                        </div>
                    </div>
                    <!-- Button -->
                    <div class="form-group">
                        <div class="col-md-4">
                            <button id="btnPesquisar" name="btnPesquisar" class="btn btn-primary" ng-click="searchStudentDetails()">Pesquisar</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-4">
                            <button id="btnNovo" name="btnNovo" class="btn btn-primary" ng-click="exibirCadastro()">Novo</button>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
        <br />
        <div class="row" ng-show="addEditStudents">
            <form class="form-group" novalidate name="formSalvar" ng-submit="salvarUsuario()">
                <fieldset>
                    <!-- Form Name -->
                    <legend>Cadastro Usuário</legend>

                    <div class="row">
                        <div class="form-group col-md-12">
                            <label class="control-label" for="txtCodigoCadastro">Código:</label>
                            <input id="txtCodigoCadastro" name="txtCodigoCadastro" placeholder="placeholder" class="form-control input-md"
                                   type="text" ng-model="COD_USUA" readonly>
                        </div>
                    </div>

                    <!-- Text input-->
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtNomeCadastro">Nome:</label>
                            <input id="txtNomeCadastro" name="txtNomeCadastro" class="form-control input-md" type="text" ng-model="NOM_USUA"
                                   required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtCPFCadastro">CPF:</label>
                            <input id="CPF" name="txtCPFCadastro" class="form-control input-md" type="text" ng-model="NUM_CPF_CNPJ"
                                    ui-mask="{{'999.999.999-99'}}" required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtRGCadastro">RG:</label>
                            <input id="txtRGCadastro" name="txtRGCadastro" class="form-control input-md" type="text" ng-model="NUM_RG"
                                   placeholder="RG..." required>
                        </div>
                    </div>
                    <div class="row">

                        <div class="form-group col-md-4">
                            <label class="control-label" for="ddlSexo">Sexo:</label>
                            <select id="ddlSexo" name="ddlSexo" class="form-control" ng-model="NOM_SEXO">
                                <option ng-repeat="item in OptionSexo" ng-selected="item.NOM_SEXO == NOM_SEXO"
                                        value="{{item.NOM_SEXO}}">
                                    {{item.NOM_SEXO}}
                                </option>                                                           
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtEmailCadastro">E-mail:</label>
                            <input id="txtEmailCadastro" name="txtEmailCadastro" class="form-control input-md" type="text" ng-model="DES_EMAIL"
                                   placeholder="E-mail..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtSenha">Senha:</label>
                            <input id="txtSenha" name="txtSenha" class="form-control input-md" type="password" ng-model="NUM_SENH"
                                   placeholder="Senha..." required>
                        </div>
                    </div>
                    <div class="row">

                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtNomeMaeCadastro">Nome Mãe:</label>

                            <input id="txtNomeMaeCadastro" name="txtNomeMaeCadastro" class="form-control input-md" type="text" ng-model="NOM_MAE"
                                   placeholder="Nome Mãe..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtNomePaiCadastro">Nome Pai:</label>
                            <input id="txtNomePaiCadastro" name="txtNomePaiCadastro" class="form-control input-md" type="text" ng-model="NOM_PAI"
                                   placeholder="Nome Pai..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtNaturalidadeCadastro">Naturalidade:</label>
                            <input id="txtNaturalidadeCadastro" name="txtNaturalidadeCadastro" class="form-control input-md" type="text" ng-model="DES_NATU"
                                   placeholder="Naturalidade..." required>
                        </div>
                    </div>
                    <div class="row">
                        @*<div class="form-group col-md-4">
                            <label class="control-label" for="txtDataNascimentoCadastro">Data Nascimento:</label>
                            <input id="txtDataNascimentoCadastro" name="txtDataNascimentoCadastro" class="form-control input-md" type="text" ng-model="DAT_NASC_USUA"
                                   placeholder="Data Nascimento..." required>
                        </div>*@
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtDataNascimentoCadastro">Data Nascimento:</label>
                            <div class="controls">
                                <div class="input-group col-md-9">
                                    <input type="text" class="form-control" uib-datepicker-popup="dd/MM/yyyy" ng-model="DAT_NASC_USUA"
                                           is-open="popup1.Opened" ng-click="open1();" ng-required="true" close-text="Close"
                                           id="txtDataNascimentoCadastro" name="txtDataNascimentoCadastro" />
                                    <span class="input-group-btn" for="txtDataNascimentoCadastro">
                                        <button type="button" class="btn btn-default" for="txtDataNascimentoCadastro"
                                                ng-click="open1();$event.stopPropagation();">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
                                    </span>

                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-8">
                            <label class="control-label" for="ddlEstadoCivil">Estado Civil:</label>
                            <select id="ddlEstadoCivil" name="ddlEstadoCivil" class="form-control" ng-model="COD_ESTA_CIVI">
                                <option ng-repeat="item in EstadoCivil" ng-selected="item.COD_ESTA_CIVI == COD_ESTA_CIVI" value="{{item.COD_ESTA_CIVI}}">{{item.DESC_ESTA_CIVI}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtLogradouroCadastro">Logradouro:</label>
                            <input id="txtLogradouroCadastro" name="txtLogradouroCadastro" class="form-control input-md" type="text" ng-model="DES_LOGR"
                                   placeholder="Logradouro..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtNumeroCadastro">Numero:</label>
                            <input id="txtNumeroCadastro" name="txtNumeroCadastro" class="form-control input-md" type="text" ng-model="NUM_NUME"
                                   placeholder="Numero..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtComplementoCadastro">Complemento:</label>
                            <input id="txtComplementoCadastro" name="txtComplementoCadastro" class="form-control input-md" type="text" ng-model="DES_COMP"
                                   placeholder="Complemento..." required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtCidadeCadastro">Cidade:</label>
                            <input id="txtCidadeCadastro" name="txtCidadeCadastro" class="form-control input-md" type="text" ng-model="DES_CIDA"
                                   placeholder="Cidade..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtEstadoCadastro">Estado:</label>
                            <input id="txtEstadoCadastro" name="txtEstadoCadastro" class="form-control input-md" type="text" ng-model="DES_ESTA"
                                   placeholder="Estado..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtBairroCadastro">Bairro:</label>
                            <input id="txtBairroCadastro" name="txtBairroCadastro" class="form-control input-md" type="text" ng-model="DES_BAIR"
                                   placeholder="Bairro..." required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtCepCadastro">Cep:</label>
                            <input id="txtCepCadastro" name="txtCepCadastro" class="form-control input-md" type="text" ng-model="NUM_CEP"
                                   placeholder="Cep..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtDDDTelFixoCadastro">DDD Tel. Fixo:</label>
                            <input id="txtDDDTelFixoCadastro" name="txtDDDTelFixoCadastro" class="form-control input-md" type="text" ng-model="NUM_DDD_FIXO"
                                   placeholder="DD Tel. Fixo..." required>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtTelFixoCadastro">Tel.Fixo:</label>
                            <input id="txtTelFixoCadastro" name="txtTelFixoCadastro" class="form-control input-md" type="text" ng-model="NUM_TELE_FIXO"
                                   placeholder="Tel.Fixo..." required>
                        </div>
                    </div>
                    <div class="row">

                        <div class="form-group col-md-4">
                            <label class="control-label" for="txtDDDCelularCadastro">DDD Celular:</label>
                            <input id="txtDDDCelularCadastro" name="txtDDDCelularCadastro" class="form-control input-md" type="text" ng-model="NUM_DDD_CELU"
                                   placeholder="DDD Celular..." required>
                        </div>
                        <div class="form-group col-md-8">
                            <label class="control-label" for="txtCelularCadastro">Celular:</label>
                            <input id="txtCelularCadastro" name="txtCelularCadastro" class="form-control input-md" type="text" ng-model="NUM_TELE_CELU"
                                   placeholder="Celular..." required>
                        </div>
                    </div>

                    <div class="row">
                        <!-- Button -->
                        <div class="col-md-12">

                            <input type="submit" class="btn btn-primary" value="Salvar" required />
                            <a href="~/Home/CadastroUsuario" class="btn btn-default">Cancelar</a>

                        </div>
                    </div>

                </fieldset>
            </form>
        </div>
        <br />
        <div class="row" ng-show="StudentsList">
            <!--<div class="col-sm-offset-3 col-md-10 col-md-offset-2 main">-->
            <form class="form-group">
                <fieldset>
                    <legend>Lista de Usuários</legend>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Celular</th>
                                    <th>Logradouro</th>
                                    <th style="text-align:center">Ação</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-ng-repeat="usuario in Usuarios">
                                    <td><span>{{usuario.NOM_USUA}}</span></td>
                                    <td><span>{{usuario.DES_EMAIL}}</span></td>
                                    <td><span>{{usuario.TBCCC_004_TELE.NUM_TELE_CELU}}</span></td>
                                    <td><span>{{usuario.TBCCC_003_ENDE.DES_LOGR}}</span></td>
                                    <td align="center">
                                        <span>
                                            <button type="button" class="btn btn-danger" alt="Delete" ng-click="studentDelete(usuario.COD_USUA,usuario.NOM_USUA)">Deletar</button>
                                            <button type="button" class="btn btn-warning" alt="Editar"
                                                    ng-click="usuarioEditar(usuario.COD_USUA, usuario.TBCCC_004_TELE.COD_TELE, usuario.NOM_USUA, usuario.NOM_SEXO, usuario.NUM_CPF_CNPJ, usuario.NUM_RG, usuario.DES_EMAIL
                                                                        , usuario.NUM_SENH, usuario.NOM_ORGA_EMIS, usuario.NOM_MAE, usuario.NOM_PAI, usuario.DES_NATU, usuario.DAT_INCL_USUA, usuario.DAT_NASC_USUA
                                                                        , usuario.IND_STAT_USUA, usuario.TBCCC_003_ENDE.COD_ENDE, usuario.TBCCC_003_ENDE.NUM_CEP, usuario.TBCCC_003_ENDE.DES_LOGR
                                                                        , usuario.TBCCC_003_ENDE.NUM_NUME, usuario.TBCCC_003_ENDE.DES_COMP, usuario.TBCCC_003_ENDE.DES_BAIR, usuario.TBCCC_003_ENDE.DES_CIDA
                                                                        , usuario.TBCCC_003_ENDE.DES_ESTA, usuario.TBCCC_004_TELE.NUM_DDI_CELU, usuario.TBCCC_004_TELE.NUM_DDD_CELU, usuario.TBCCC_004_TELE.NUM_TELE_CELU
                                                                        , usuario.TBCCC_004_TELE.NUM_DDI_FIXO, usuario.TBCCC_004_TELE.NUM_DDD_FIXO, usuario.TBCCC_004_TELE.NUM_TELE_FIXO
                                                                        , usuario.TBCCC_002_ESTA_CIVI.COD_ESTA_CIVI, usuario.TBCCC_002_ESTA_CIVI.DESC_ESTA_CIVI)">
                                                Editar
                                            </button>
                                        </span>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>

                </fieldset>
            </form>
        </div>

    </div>
</div>

